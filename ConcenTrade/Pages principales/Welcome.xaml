<Page x:Class="Concentrade.WelcomePage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:effects="clr-namespace:System.Windows.Media.Effects;assembly=PresentationCore"
      Loaded="Page_Loaded">

    <Page.Resources>
        <effects:BlurEffect x:Key="SoftBlurEffect" Radius="20"/>
        
        <!-- Dégradé de fond apaisant -->
        <LinearGradientBrush x:Key="CalmBackground" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#0F2027" Offset="0"/>
            <GradientStop Color="#203A43" Offset="0.5"/>
            <GradientStop Color="#2C5364" Offset="1"/>
        </LinearGradientBrush>

        <!-- Animation de transition -->
        <Storyboard x:Key="TransitionOut">
            <DoubleAnimation Storyboard.TargetName="MainContent"
                           Storyboard.TargetProperty="Opacity"
                           From="1" To="0"
                           Duration="0:0:0.5"
                           BeginTime="0:0:2.5">
                <DoubleAnimation.EasingFunction>
                    <QuadraticEase EasingMode="EaseInOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Storyboard.TargetName="MainContent"
                           Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.Y)"
                           From="0" To="-30"
                           Duration="0:0:0.5"
                           BeginTime="0:0:2.5">
                <DoubleAnimation.EasingFunction>
                    <QuadraticEase EasingMode="EaseInOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>

        <!-- Style pour les formes zen -->
        <Style x:Key="ZenShape" TargetType="Ellipse">
            <Setter Property="Opacity" Value="0.1"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <effects:BlurEffect Radius="40"/>
                </Setter.Value>
            </Setter>
        </Style>
    </Page.Resources>

    <Grid Background="{StaticResource CalmBackground}">
        <!-- Cercle de méditation central -->
        <Ellipse x:Name="MeditationCircle"
                 Width="300" Height="300"
                 Fill="#306C63FF"
                 Effect="{StaticResource SoftBlurEffect}"
                 Opacity="0"
                 HorizontalAlignment="Center"
                 VerticalAlignment="Center">
            <Ellipse.RenderTransform>
                <ScaleTransform x:Name="MeditationScale"/>
            </Ellipse.RenderTransform>
        </Ellipse>

        <!-- Vagues zen -->
        <Path x:Name="ZenWave1" 
              Stroke="#206C63FF" 
              StrokeThickness="2"
              Opacity="0"
              Effect="{StaticResource SoftBlurEffect}">
            <Path.Data>
                <PathGeometry>
                    <PathFigure StartPoint="0,300">
                        <BezierSegment Point1="200,280" 
                                     Point2="400,320" 
                                     Point3="600,300"/>
                    </PathFigure>
                </PathGeometry>
            </Path.Data>
        </Path>

        <Path x:Name="ZenWave2" 
              Stroke="#20A389F4" 
              StrokeThickness="2"
              Opacity="0"
              Effect="{StaticResource SoftBlurEffect}">
            <Path.Data>
                <PathGeometry>
                    <PathFigure StartPoint="0,350">
                        <BezierSegment Point1="200,330" 
                                     Point2="400,370" 
                                     Point3="600,350"/>
                    </PathFigure>
                </PathGeometry>
            </Path.Data>
        </Path>

        <!-- Conteneur principal -->
        <Grid x:Name="MainContent">
            <Grid.RenderTransform>
                <TranslateTransform/>
            </Grid.RenderTransform>
            <!-- Symbole de concentration -->
            <Path x:Name="FocusSymbol"
                  Width="60" Height="60"
                  Margin="0,0,0,140"
                  Data="M12,2 C17.52,2 22,6.48 22,12 C22,17.52 17.52,22 12,22 C6.48,22 2,17.52 2,12 C2,6.48 6.48,2 12,2 Z M12,4 C7.58,4 4,7.58 4,12 C4,16.42 7.58,20 12,20 C16.42,20 20,16.42 20,12 C20,7.58 16.42,4 12,4 Z M12,6 C15.31,6 18,8.69 18,12 C18,15.31 15.31,18 12,18 C8.69,18 6,15.31 6,12 C6,8.69 8.69,6 12,6 Z"
                  Fill="#6C63FF"
                  Opacity="0"
                  HorizontalAlignment="Center"
                  VerticalAlignment="Center">
                <Path.Effect>
                    <effects:BlurEffect Radius="2"/>
                </Path.Effect>
                <Path.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform x:Name="FocusSymbolScale"/>
                        <TranslateTransform x:Name="FocusSymbolTransform"/>
                    </TransformGroup>
                </Path.RenderTransform>
            </Path>

            <!-- Conteneur du texte -->
            <StackPanel VerticalAlignment="Center"
                       HorizontalAlignment="Center"
                       Margin="0,20,0,0">
                
                <!-- Effet de flou en arrière-plan -->
                <TextBlock x:Name="BlurredText"
                         Text="Bonjour !"
                         FontSize="38"
                         FontWeight="Light"
                         FontFamily="Segoe UI"
                         Foreground="#406C63FF"
                         Effect="{StaticResource SoftBlurEffect}"
                         HorizontalAlignment="Center"
                         Opacity="0">
                    <TextBlock.RenderTransform>
                        <TransformGroup>
                            <TranslateTransform x:Name="BlurredTextTransform"/>
                            <ScaleTransform x:Name="BlurredTextScale"/>
                        </TransformGroup>
                    </TextBlock.RenderTransform>
                </TextBlock>

                <!-- Texte principal -->
                <TextBlock x:Name="WelcomeText"
                         Text="Bonjour !"
                         FontSize="38"
                         FontWeight="Light"
                         FontFamily="Segoe UI"
                         Foreground="#FFFFFF"
                         HorizontalAlignment="Center"
                         Opacity="0">
                    <TextBlock.RenderTransform>
                        <TransformGroup>
                            <TranslateTransform x:Name="TextTransform"/>
                            <ScaleTransform x:Name="TextScale"/>
                        </TransformGroup>
                    </TextBlock.RenderTransform>
                </TextBlock>

                <!-- Message de concentration -->
                <TextBlock x:Name="FocusMessage"
                         Text="Prenez un moment pour vous concentrer..."
                         FontSize="16"
                         FontWeight="Light"
                         FontFamily="Segoe UI"
                         Foreground="#80FFFFFF"
                         HorizontalAlignment="Center"
                         Margin="0,20,0,0"
                         Opacity="0">
                    <TextBlock.RenderTransform>
                        <TransformGroup>
                            <TranslateTransform x:Name="MessageTransform"/>
                            <ScaleTransform x:Name="MessageScale"/>
                        </TransformGroup>
                    </TextBlock.RenderTransform>
                </TextBlock>
            </StackPanel>
        </Grid>
    </Grid>
</Page>
